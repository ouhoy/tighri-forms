{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/abdel/Desktop/MERN APP/MERN - Auth main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/abdel/Desktop/MERN APP/MERN - Auth main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/abdel/Desktop/MERN APP/MERN - Auth main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from\"axios\";import{Link,Redirect}from\"react-router-dom\";import styles from\"../styles/forms.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ResetPassword(_ref){var match=_ref.match;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),newPassword=_useState4[0],setNewPassword=_useState4[1];function handelSubmit(_x){return _handelSubmit.apply(this,arguments);}function _handelSubmit(){_handelSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var token,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setNewPassword(\"\");setPassword(\"\");token=match.params.token;data={password:password,newPassword:newPassword,resetPasswordToken:token};_context.next=7;return axios.put(\"http://localhost:5000/reset-password\",data).then(/*#__PURE__*/_jsx(Redirect,{to:\"/signin\"})).catch(function(err){console.log(err.response.data);});case 7:case\"end\":return _context.stop();}}},_callee);}));return _handelSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:styles.nav,children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/check-p.png\",alt:\"dotaskz\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.sign_up,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Reset password\"}),/*#__PURE__*/_jsxs(\"form\",{className:styles.form,onSubmit:handelSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter your new password...\",onChange:function onChange(e){return setPassword(e.target.value);},value:password}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter your new password again...\",onChange:function onChange(e){return setNewPassword(e.target.value);},value:newPassword}),/*#__PURE__*/_jsx(\"div\",{className:styles.btn_container,children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Reset password\"})})]}),/*#__PURE__*/_jsx(\"p\",{className:styles.sm_ps,children:\"By clicking submit you're agreeing to our use of cookie and privacy policies.\"})]})]});}export default ResetPassword;","map":{"version":3,"sources":["C:/Users/abdel/Desktop/MERN APP/MERN - Auth main/client/src/routes/resetPassword.js"],"names":["React","useState","axios","Link","Redirect","styles","ResetPassword","match","password","setPassword","newPassword","setNewPassword","handelSubmit","e","preventDefault","token","params","data","resetPasswordToken","put","then","catch","err","console","log","response","nav","sign_up","form","target","value","btn_container","sm_ps"],"mappings":"ugBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,CAAcC,QAAd,KAA6B,kBAA7B,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,C,wFAGA,QAASC,CAAAA,aAAT,MAA+B,IAAPC,CAAAA,KAAO,MAAPA,KAAO,eACKN,QAAQ,CAAC,EAAD,CADb,wCACpBO,QADoB,eACVC,WADU,8BAEWR,QAAQ,CAAC,EAAD,CAFnB,yCAEpBS,WAFoB,eAEPC,cAFO,uBAGXC,CAAAA,YAHW,gJAG3B,iBAA6BC,CAA7B,iIACIA,CAAC,CAACC,cAAF,GACAH,cAAc,CAAC,EAAD,CAAd,CACAF,WAAW,CAAC,EAAD,CAAX,CACMM,KAJV,CAIkBR,KAAK,CAACS,MAAN,CAAaD,KAJ/B,CAKUE,IALV,CAKiB,CAACT,QAAQ,CAARA,QAAD,CAAUE,WAAW,CAAXA,WAAV,CAAsBQ,kBAAkB,CAACH,KAAzC,CALjB,uBAMUb,CAAAA,KAAK,CAACiB,GAAN,wCAAiDF,IAAjD,EACLG,IADK,cACA,KAAC,QAAD,EAAU,EAAE,CAAC,SAAb,EADA,EAELC,KAFK,CAEC,SAAAC,GAAG,CAAE,CACRC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,QAAJ,CAAaR,IAAzB,EACH,CAJK,CANV,uDAH2B,+CAe3B,mBAAO,oCACH,YAAK,SAAS,CAAEZ,MAAM,CAACqB,GAAvB,uBACR,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBAAa,YAAK,GAAG,CAAC,qBAAT,CAA+B,GAAG,CAAC,SAAnC,EAAb,EADQ,EADG,cAMP,aAAK,SAAS,CAAErB,MAAM,CAACsB,OAAvB,wBACA,sCADA,cAEA,cAAO,SAAS,CAAEtB,MAAM,CAACuB,IAAzB,CAA+B,QAAQ,CAAEhB,YAAzC,wBACA,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,4BAAnC,CAAgE,QAAQ,CAAE,kBAACC,CAAD,QAAMJ,CAAAA,WAAW,CAACI,CAAC,CAACgB,MAAF,CAASC,KAAV,CAAjB,EAA1E,CAA8G,KAAK,CAAEtB,QAArH,EADA,cAEA,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,kCAAnC,CAAsE,QAAQ,CAAE,kBAACK,CAAD,QAAMF,CAAAA,cAAc,CAACE,CAAC,CAACgB,MAAF,CAASC,KAAV,CAApB,EAAhF,CAAuH,KAAK,CAAEpB,WAA9H,EAFA,cAIA,YAAK,SAAS,CAAEL,MAAM,CAAC0B,aAAvB,uBACgB,eAAQ,IAAI,CAAC,QAAb,4BADhB,EAJA,GAFA,cAUA,UAAG,SAAS,CAAE1B,MAAM,CAAC2B,KAArB,2FAVA,GANO,GAAP,CAsBH,CAED,cAAe1B,CAAAA,aAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport styles from \"../styles/forms.module.css\";\r\n\r\n\r\nfunction ResetPassword({match}){\r\n    const [password, setPassword] = useState(\"\");\r\n    const [newPassword, setNewPassword] = useState(\"\");\r\n    async  function handelSubmit(e){\r\n        e.preventDefault();\r\n        setNewPassword(\"\");\r\n        setPassword(\"\");\r\n        const token = match.params.token;\r\n        const data = {password,newPassword,resetPasswordToken:token }\r\n        await axios.put(`http://localhost:5000/reset-password`,data)\r\n        .then(<Redirect to=\"/signin\"/>)\r\n        .catch(err=>{\r\n            console.log(err.response.data)\r\n        })\r\n    }\r\n    return <div>\r\n        <div className={styles.nav}>\r\n<Link to=\"/\"><img src=\"/images/check-p.png\" alt=\"dotaskz\" />\r\n</Link>\r\n</div>\r\n     \r\n    <div className={styles.sign_up}>\r\n    <h1>Reset password</h1>\r\n    <form  className={styles.form} onSubmit={handelSubmit}>\r\n    <input type=\"password\" placeholder=\"Enter your new password...\" onChange={(e)=> setPassword(e.target.value)}  value={password} />\r\n    <input type=\"password\" placeholder=\"Enter your new password again...\" onChange={(e)=> setNewPassword(e.target.value)}  value={newPassword} />\r\n\r\n    <div className={styles.btn_container}>\r\n                    <button type=\"submit\" >Reset password</button>\r\n            </div>\r\n    </form>\r\n    <p className={styles.sm_ps}>By clicking submit you're agreeing to our use of cookie and privacy policies.</p>\r\n\r\n    </div>\r\n\r\n    </div>\r\n\r\n}\r\n\r\nexport default ResetPassword;"]},"metadata":{},"sourceType":"module"}