{"ast":null,"code":"import cookie from \"js-cookie\"; // set in the cookie\n\nexport const setCookie = (key, value) => {\n  if (window !== \"undefined\") {\n    cookie.set(key, value, {\n      expires: 1\n    });\n  }\n}; // remove the cookie\n\nexport const removeCookie = key => {\n  if (window !== \"undefined\") {\n    cookie.remove(key, {\n      expires: 1\n    });\n  }\n}; // get from such as stored token\n\nexport const getCookie = key => {\n  if (window !== \"undefined\") {\n    return cookie.get(key);\n  }\n}; //set in local storage\n\nexport const setLocalStorage = (key, value) => {\n  if (window !== \"undefined\") {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n}; // rm f local storage\n\nexport const removeLocalStorage = key => {\n  if (window !== \"undefined\") {\n    localStorage.removeItem(key);\n  }\n}; //auth user by passing data to cookie and localstorage guring signin\n\nexport const authenticate = (response, next) => {\n  setCookie(\"userData\", response.data.user._id);\n  setCookie(\"token\", response.data.token);\n  setLocalStorage(\"user\", response.data.user);\n  next();\n}; //access\n\nexport const isAuth = () => {\n  if (window !== \"undefined\") {\n    const cookieChecked = getCookie('token');\n\n    if (cookieChecked) {\n      if (localStorage.getItem(\"user\")) {\n        return JSON.parse(localStorage.getItem(\"user\"));\n      } else {\n        return false;\n      }\n    }\n  }\n};\nexport const signout = next => {\n  removeCookie('token');\n  removeLocalStorage(\"user\");\n  next();\n};","map":{"version":3,"sources":["C:/Users/abdel/Desktop/MERN APP/MERN - Auth main/client/src/paths/helpers.js"],"names":["cookie","setCookie","key","value","window","set","expires","removeCookie","remove","getCookie","get","setLocalStorage","localStorage","setItem","JSON","stringify","removeLocalStorage","removeItem","authenticate","response","next","data","user","_id","token","isAuth","cookieChecked","getItem","parse","signout"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB,C,CAGA;;AACA,OAAO,MAAMC,SAAS,GAAG,CAACC,GAAD,EAAMC,KAAN,KAAe;AACpC,MAAGC,MAAM,KAAI,WAAb,EAA0B;AACtBJ,IAAAA,MAAM,CAACK,GAAP,CAAWH,GAAX,EAAgBC,KAAhB,EAAsB;AAClBG,MAAAA,OAAO,EAAE;AADS,KAAtB;AAGH;AACJ,CANM,C,CAOP;;AACA,OAAO,MAAMC,YAAY,GAAIL,GAAD,IAAQ;AAChC,MAAGE,MAAM,KAAI,WAAb,EAA0B;AACtBJ,IAAAA,MAAM,CAACQ,MAAP,CAAcN,GAAd,EAAmB;AACfI,MAAAA,OAAO,EAAE;AADM,KAAnB;AAGH;AACJ,CANM,C,CAOP;;AACA,OAAO,MAAMG,SAAS,GAAIP,GAAD,IAAQ;AAC7B,MAAGE,MAAM,KAAI,WAAb,EAA0B;AACxB,WAAOJ,MAAM,CAACU,GAAP,CAAWR,GAAX,CAAP;AACD;AACJ,CAJM,C,CAKP;;AACA,OAAO,MAAMS,eAAe,GAAG,CAACT,GAAD,EAAMC,KAAN,KAAe;AAC1C,MAAGC,MAAM,KAAI,WAAb,EAA0B;AACxBQ,IAAAA,YAAY,CAACC,OAAb,CAAqBX,GAArB,EAA0BY,IAAI,CAACC,SAAL,CAAeZ,KAAf,CAA1B;AACD;AACJ,CAJM,C,CAKP;;AACA,OAAO,MAAMa,kBAAkB,GAAId,GAAD,IAAQ;AACtC,MAAGE,MAAM,KAAI,WAAb,EAA0B;AACxBQ,IAAAA,YAAY,CAACK,UAAb,CAAwBf,GAAxB;AACD;AACJ,CAJM,C,CAKP;;AACA,OAAO,MAAMgB,YAAY,GAAG,CAACC,QAAD,EAAWC,IAAX,KAAmB;AAC3CnB,EAAAA,SAAS,CAAC,UAAD,EAAckB,QAAQ,CAACE,IAAT,CAAcC,IAAd,CAAmBC,GAAjC,CAAT;AAEAtB,EAAAA,SAAS,CAAC,OAAD,EAAWkB,QAAQ,CAACE,IAAT,CAAcG,KAAzB,CAAT;AACAb,EAAAA,eAAe,CAAC,MAAD,EAAUQ,QAAQ,CAACE,IAAT,CAAcC,IAAxB,CAAf;AACAF,EAAAA,IAAI;AACP,CANM,C,CAOP;;AACA,OAAO,MAAMK,MAAM,GAAG,MAAK;AACvB,MAAGrB,MAAM,KAAK,WAAd,EAA2B;AAC3B,UAAMsB,aAAa,GAAGjB,SAAS,CAAC,OAAD,CAA/B;;AACA,QAAGiB,aAAH,EAAkB;AACd,UAAGd,YAAY,CAACe,OAAb,CAAqB,MAArB,CAAH,EAAgC;AAC5B,eAAOb,IAAI,CAACc,KAAL,CAAWhB,YAAY,CAACe,OAAb,CAAqB,MAArB,CAAX,CAAP;AACH,OAFD,MAEM;AACF,eAAO,KAAP;AACH;AACJ;AACA;AACJ,CAXM;AAeP,OAAO,MAAME,OAAO,GAAGT,IAAI,IAAG;AAC1Bb,EAAAA,YAAY,CAAC,OAAD,CAAZ;AACAS,EAAAA,kBAAkB,CAAC,MAAD,CAAlB;AACAI,EAAAA,IAAI;AACP,CAJM","sourcesContent":["import cookie from \"js-cookie\";\r\n\r\n\r\n// set in the cookie\r\nexport const setCookie = (key, value) =>{\r\n    if(window!== \"undefined\") {\r\n        cookie.set(key, value,{\r\n            expires: 1\r\n        })\r\n    }\r\n}\r\n// remove the cookie\r\nexport const removeCookie = (key) =>{\r\n    if(window!== \"undefined\") {\r\n        cookie.remove(key, {\r\n            expires: 1\r\n        })\r\n    }\r\n}\r\n// get from such as stored token\r\nexport const getCookie = (key) =>{\r\n    if(window!== \"undefined\") {\r\n      return cookie.get(key)\r\n    }\r\n}\r\n//set in local storage\r\nexport const setLocalStorage = (key, value) =>{\r\n    if(window!== \"undefined\") {\r\n      localStorage.setItem(key, JSON.stringify(value))\r\n    }\r\n}\r\n// rm f local storage\r\nexport const removeLocalStorage = (key) =>{\r\n    if(window!== \"undefined\") {\r\n      localStorage.removeItem(key)\r\n    }\r\n}\r\n//auth user by passing data to cookie and localstorage guring signin\r\nexport const authenticate = (response, next) =>{\r\n    setCookie(\"userData\" , response.data.user._id)\r\n\r\n    setCookie(\"token\" , response.data.token)\r\n    setLocalStorage(\"user\" , response.data.user)\r\n    next();\r\n}\r\n//access\r\nexport const isAuth = () =>{\r\n    if(window !== \"undefined\") {\r\n    const cookieChecked = getCookie('token')\r\n    if(cookieChecked) {\r\n        if(localStorage.getItem(\"user\")){\r\n            return JSON.parse(localStorage.getItem(\"user\"))\r\n        }else {\r\n            return false;\r\n        }\r\n    }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const signout = next =>{\r\n    removeCookie('token')\r\n    removeLocalStorage(\"user\")\r\n    next();\r\n}\r\n"]},"metadata":{},"sourceType":"module"}